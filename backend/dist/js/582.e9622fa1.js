"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[582],{6582:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var r=n(3396),s=n(9242);const a=t=>((0,r.dD)("data-v-66857af1"),t=t(),(0,r.Cn)(),t),o=a((()=>(0,r._)("br",null,null,-1))),l=a((()=>(0,r._)("br",null,null,-1)));function u(t,e,n,a,u,i){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>u.username=t),placeholder:"用户名",class:"input"},null,512),[[s.nr,u.username]]),o,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>u.password=t),type:"password",placeholder:"密码",class:"input"},null,512),[[s.nr,u.password]]),l,(0,r._)("button",{onClick:e[2]||(e[2]=(...t)=>i.register&&i.register(...t)),class:"button"},"注册"),(0,r._)("button",{onClick:e[3]||(e[3]=(...t)=>i.login&&i.login(...t)),class:"button"},"登录")])}n(560);var i={data(){return{username:"",password:""}},methods:{async register(){try{const t=await fetch("http://47.108.72.107:9099/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})}),e=await t.json();200===t.status?(alert("用户注册成功"),location.reload()):alert(e),alert(e)}catch(t){console.error("Error:",t)}},async login(){try{const t=await fetch("http://47.108.72.107:9099/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})}),e=await t.json();200===t.status?(document.cookie=`token=${e.token}`,this.$router.push("/order"),alert("用户登录成功")):alert(e)}catch(t){console.error("Error:",t)}}}},d=n(89);const c=(0,d.Z)(i,[["render",u],["__scopeId","data-v-66857af1"]]);var p=c}}]);
//# sourceMappingURL=582.e9622fa1.js.map